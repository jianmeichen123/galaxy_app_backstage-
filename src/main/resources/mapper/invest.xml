<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
  <mapper namespace="com.galaxy.im.bean.invest.InvestBean">
  <!-- 查询列表 -->
  <select id="selectInvestList" parameterType="hashmap" resultType="hashmap" >
  	select 
  		invest.id,
  		invest.icompany_name icompanyName,
		invest.investment_amount investmentAmount,
		invest.share_ratio shareRatio
	from sop_person_invest_experience invest
	order by ${property} ${direction}
	limit #{offset},${limit};
	
  
  </select>
  <!-- 列表记录个数 -->
	<select id="countInvestList" parameterType="hashmap" resultType="integer">
		select count(1)
		from sop_person_invest_experience invest
	</select>
  
  <resultMap type="com.galaxy.im.bean.invest.InvestBean" id="investMap">
		<result column="id" property="id"/>
		<result column="icompany_name" property="icompanyName"/>
		<result column="investment_amount" property="investmentAmount"/>
		<result column="share_ratio" property="shareRatio"/>
	</resultMap>
	
	<!-- 新增投资方 -->
	<insert id="insert" parameterType="com.galaxy.im.bean.invest.InvestBean">
		insert into sop_person_invest_experience(
			person_id,
			icompany_name,
			investment_amount,
			share_ratio,
			project_director,
			emceed_position,
			telephone,
			created_time,
			acompany_name,
			ainvestment_amount,
			ashare_ratio,
			aemceed_position,
			aproject_director,
			atelephone
		)values(
			#{personId},
			#{icompanyName},
			#{investmentAmount},
			#{shareRatio},
			#{projectDirector},
			#{emceedPosition},
			#{telephone},
			#{createdTime},
			#{acompanyName},
			#{ainvestmentAmount},
			#{ashareRatio},
			#{aemceedPosition},
			#{aprojectDirector},
			#{atelephone}
		);
		<selectKey resultType="java.lang.Long" order="AFTER" keyProperty="id">
				SELECT LAST_INSERT_ID() AS id
		</selectKey>
	
	</insert>
	<!-- 更新投资方 -->
	<update id="updateById" parameterType="com.galaxy.im.bean.invest.InvestBean">
		update sop_person_invest_experience set
			person_id = #{personId},
			icompany_name = #{icompanyName},
			investment_amount = #{investmentAmount},
			share_ratio = #{shareRatio},
			project_director = #{projectDirector},
			emceed_position = #{emceedPosition},
			telephone = #{telephone},
			updated_time = #{updatedTime},
			acompany_name = #{acompanyName},
			ainvestment_amount = #{ainvestmentAmount},
			ashare_ratio = #{ashareRatio},
			aemceed_position = #{aemceedPosition},
			aproject_director = #{aprojectDirector},
			atelephone = #{atelephone}
		where id = #{id};
	
	</update>
	
	<!-- 根据id删除投资方 -->
	<delete id="deleteById" parameterType="com.galaxy.im.bean.invest.InvestBean">
		delete from sop_person_invest_experience where id = #{id};
	
	
	</delete>
	
	</mapper>